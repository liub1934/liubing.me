---
date: 2023-01-02
category:
  - Vue
  - VuePress
  - Buddy
tag:
  - Vue
  - è‡ªåŠ¨æ‰“åŒ…
  - è‡ªåŠ¨éƒ¨ç½²
  - è‡ªåŠ¨æ„å»º
layout: ArticleLayout
containerClass: article-container
---

# VuePress å€ŸåŠ© Buddy è‡ªåŠ¨æ„å»ºæ‰“åŒ…éƒ¨ç½²åˆ°è‡ªå·±çš„æœåŠ¡å™¨

è¿‘æœŸå°†è‡ªå·±çš„åšå®¢ç”± `WordPress` è¿ç§»åˆ°äº† `VuePress`ï¼Œä¸€å¼€å§‹æƒ³åˆ°çš„æ˜¯ç”¨ Github æä¾›çš„ Action åŠŸèƒ½ï¼Œä»£ç æ¨é€åˆ° main åˆ†æ”¯åè‡ªåŠ¨æ„å»ºæ‰“åŒ…å¹¶å°†æ‰“åŒ…åçš„æ–‡ä»¶é€šè¿‡ FTP çš„å½¢å¼å‘é€åˆ°è‡ªå·±çš„æœåŠ¡å™¨ä¸Šé¢ï¼Œå°´å°¬çš„æ˜¯ä¹‹å‰åˆ©ç”¨ Action åšäº†äº›éæ³•ç”¨é€”ï¼Œç”¨äºå„ç§è„šæœ¬ç­¾åˆ°å¯¼è‡´ Action åŠŸèƒ½è¢«å°äº† ğŸ˜‚ï¼Œæœ€åè¿™ä¸ªæ–¹æ³•è¢«å¼ƒç”¨äº†ï¼Œç„¶åå°±æ‰¾åˆ°äº†ä»Šå¤©çš„ä¸»è§’ï¼šBuddyï¼Œè®°å½•ä¸‹è‡ªåŠ¨æ„å»ºæ‰“åŒ…é…ç½®è¿‡ç¨‹ã€‚

<!-- more -->

## æ³¨å†Œ

::: tip
å¦‚æœæ‰“ä¸å¼€ Buddy å®˜ç½‘ï¼Œè¯·å¼€å¯é­”æ³•ä¸Šç½‘ã€‚
:::

æ²¡æ³¨å†Œè¿‡çš„åŒå­¦å¯ä»¥è‡ªè¡Œå» Buddy å®˜ç½‘æ³¨å†Œï¼š[ç‚¹å‡»å‰å¾€](https://buddy.works)ï¼Œæ¨èå¤§å®¶ä½¿ç”¨ GitHub æ–¹å¼è¿›è¡Œç™»å½•ã€‚

## é…ç½®

æ³¨å†Œç™»å½•å®Œæ¯•åè‡ªåŠ¨è¿›å»æ§åˆ¶å°ï¼Œç‚¹å‡»æ§åˆ¶å°å³ä¸Šè§’çš„ `New project` æŒ‰é’®æ–°å»ºé¡¹ç›®ã€‚

![image](https://image.liubing.me/2023/01/02/12eaed79b6b9f.png)

é€‰æ‹©ä»“åº“æä¾›è€…ä¸º Githubï¼Œä¸‹é¢ä¼šåˆ—å‡ºè‡ªå·±çš„ä»“åº“åˆ—è¡¨ï¼Œå¦‚æœä»“åº“åˆ—è¡¨å‡ºä¸æ¥çš„è¯ç‚¹å‡» `Can't see your repositories?`è¿›è¡Œæˆæƒï¼Œé€‰æ‹©ä¸€ä¸ªä»“åº“è¿›å…¥ä¸‹ä¸€æ­¥ã€‚

![image](https://image.liubing.me/2023/01/02/6fb9e53a38638.png)

## æ·»åŠ ç®¡é“

ç‚¹å‡»å³ä¸Šè§’çš„ `New pipeline` æŒ‰é’®æ–°å¢ä¸€ä¸ªç®¡é“ã€‚

![image](https://image.liubing.me/2023/01/02/aff9cc1dc453f.png)

é€‰æ‹©é…ç½®ç±»å‹ä¸º `New`ï¼Œå¡«å†™ `Name` åç§°ï¼Œè‡ªå·±å®šä¹‰å³å¯ï¼Œé€‰æ‹©è§¦å‘ç±»å‹ä¸º `On events`ï¼Œé€‰æ‹©ä¸€ä¸ªè‡ªå·±çš„åˆ†æ”¯ã€‚

![image](https://image.liubing.me/2023/01/02/9cfe376fe9aa7.png)

é€‰æ‹©æŠ€æœ¯æ ˆä¸º Node.js

![image](https://image.liubing.me/2023/01/02/8ceeca0aa31b4.png)

å¡«å†™ VuePress æ‰“åŒ…æ‰“åŒ…å‘½ä»¤ï¼Œå¯ä»¥ä½¿ç”¨ `npm` æˆ–è€… `yarn`ï¼ŒæŒ‰éœ€ä½¿ç”¨ï¼Œè€ƒè™‘éƒ½æ‰“åŒ…åæ–‡ä»¶è¿‡å¤šï¼Œå¦‚æœå•ä¸ªå•ä¸ªå‘é€çš„è¯è€—æ—¶å¯èƒ½æ¯”è¾ƒå¤šï¼Œè¿™é‡Œå°†æ‰“åŒ…çš„å¥½çš„ `dist` æ‰“æˆå‹ç¼©åŒ…ï¼Œå®Œæˆåç‚¹å‡» `Add this action` æŒ‰é’®æ·»åŠ æ­¥éª¤ã€‚

```sh
yarn install
yarn docs:build
cd src/.vuepress
tar -zcvf dist.tar.gz dist
```

![image](https://image.liubing.me/2023/01/02/1463771ba9845.png)

## æ·»åŠ  FTP é…ç½®

ä»¥ä¸Šå°±é…ç½®å¥½äº†æ‰“åŒ…çš„æ­¥éª¤ï¼Œæ‰“å®ŒåŒ…åéœ€è¦å°†æ‰“åŒ…å¥½çš„æ–‡ä»¶é€šè¿‡ FTP çš„å½¢å¼å‘é€åˆ°è‡ªå·±çš„æœåŠ¡å™¨ä¸Šã€‚ç‚¹å‡»ä¸‹æ–¹çš„ `+` å·æ·»åŠ å…¶ä»–æ­¥éª¤ã€‚

![ced3e027f638e](https://image.liubing.me/2023/01/02/ced3e027f638e.png)

å¯ä»¥é€šè¿‡æœç´¢è¾“å…¥æ¡†è¾“å…¥ `FTP` æ‰¾åˆ°æˆ‘ä»¬æƒ³è¦çš„æœåŠ¡ï¼Œé€‰æ‹© `FTP`ã€‚

![d6da4a5fdbea5](https://image.liubing.me/2023/01/02/d6da4a5fdbea5.png)

![0982bce304cc5](https://image.liubing.me/2023/01/02/0982bce304cc5.png)

é…ç½®éœ€è¦å‘é€çš„æºæ–‡ä»¶ï¼Œè¿™é‡Œé€‰æ‹© Pipeline Filesystemï¼Œå¡«å†™æºæ–‡ä»¶è·¯å¾„ï¼š

```
/src/.vuepress/dist.tar.gz
```

![image](https://image.liubing.me/2023/01/02/427048aebfdc2.png)

ç‚¹å‡» Target è¿›è¡Œ FTP ç›¸å…³çš„é…ç½®ï¼Œæ­¤æ—¶éœ€è¦å¡«å†™ä¸€äº› FTP çš„é…ç½®ä¿¡æ¯ï¼ŒåŒ…æ‹¬ FTP åœ°å€ã€ç«¯å£å·ã€ç”¨æˆ·åã€å¯†ç ã€è·¯å¾„ä¿¡æ¯ã€‚

![image](https://image.liubing.me/2023/01/02/9a317774277b6.png)

ç”±äºè¿™äº›ä¿¡æ¯é‡Œé¢æœ‰æ•æ„Ÿä¿¡æ¯ï¼Œå¯ä»¥åœ¨é€‰æ‹©å·¦ä¾§çš„ `Variables, Keys & Assets` èœå•è¿›è¡Œä¸€äº›å˜é‡çš„é…ç½®ã€‚

![image](https://image.liubing.me/2023/01/02/bc4f320bdf561.png)

![image](https://image.liubing.me/2023/01/02/15f45c594b7b0.png)

å˜é‡é…ç½®å®Œæˆåå¯ä»¥é€šè¿‡è¾“å…¥æ¡†å³ä¾§çš„$ç¬¦å·çš„æŒ‰é’®è¿›è¡Œå˜é‡çš„é€‰æ‹©ã€‚

![image](https://image.liubing.me/2023/01/02/42bf030f39504.png)

é…ç½®å®Œæˆåå¯ä»¥ç‚¹å‡»ä¸‹æ–¹çš„æµ‹è¯•æŒ‰é’®è¿›è¡Œæµ‹è¯•è”é€šæ€§ï¼Œè”é€šæ€§ OK çš„è¯ `PATH` é€‰æ‹©å¯ä»¥ç‚¹å‡»å³ä¾§çš„æŒ‰é’®è¿›è¡Œé€‰æ‹©ã€‚è¿™ä¸ª`PATH`å°±æ˜¯æ‰“åŒ…åçš„æ–‡ä»¶å‘é€åˆ°æœåŠ¡å™¨çš„ä½ç½®ã€‚

::: warning
å¡«å†™çš„ PATH æ˜¯ä¸ªç›¸å¯¹è·¯å¾„ï¼Œæ¯”å¦‚ä½ é…ç½®çš„ FTP ç”¨æˆ·æ‰€åœ¨çš„ç›®å½•æ˜¯`/www/wwwroot/`ï¼Œé‚£ä¹ˆè¿™é‡Œå¡«å†™çš„ PATH å°±æ˜¯ç›¸å¯¹è¿™ä¸ªç›®å½•ï¼Œå¦‚å›¾ä¸Šå¡«å†™çš„`/vuepress`ï¼Œå¯¹åº”çš„æœåŠ¡å™¨ç›®å½•å°±æ˜¯`/www/wwwroot/vuepress`ã€‚
:::

![image](https://image.liubing.me/2023/01/02/a08fff8e90312.png)

## æ·»åŠ  SSH é…ç½®

æ‰“åŒ…åçš„å‹ç¼©æ–‡ä»¶å‘é€åˆ°æœåŠ¡å™¨çš„å…·ä½“ä½ç½®åè¿˜éœ€è¦è¿›è¡Œè§£å‹æ“ä½œï¼Œç”¨åŒæ ·çš„æ–¹æ³•æ·»åŠ  SSH æ­¥éª¤ï¼Œå¡«å…¥ç›¸å…³é…ç½®ã€‚

```sh
# è¿›å…¥åˆ° vuepress çš„ç›®å½•ï¼Œæ‰§è¡Œè§£å‹å‘½ä»¤ï¼Œå®Œæˆååˆ é™¤å‹ç¼©åŒ…ã€‚
cd /www/wwwroot/liubing.me/vuepress
tar -zxvf dist.tar.gz
rm -rf dist.tar.gz
```

![image](https://image.liubing.me/2023/01/02/d25b2251377e6.png)

![image](https://image.liubing.me/2023/01/02/c60dfbe00771d.png)

## æµ‹è¯•æ‰“åŒ…

å…¨éƒ¨é…ç½®å®Œæˆåå°±å¯ä»¥ç‚¹å‡» Run æŒ‰é’®æ‰§è¡Œç®¡é“ä»»åŠ¡ï¼Œå¦‚æœæœ‰å‡ºç°çº¢è‰²çš„çš„æç¤ºï¼Œå¯ä»¥ç‚¹å‡» `Logs` æŒ‰é’®æŸ¥çœ‹ç›¸å…³çš„æ—¥å¿—ä¿¡æ¯æ’æŸ¥é—®é¢˜ã€‚

![image](https://image.liubing.me/2023/01/02/e61da9a90204c.png)

![image](https://image.liubing.me/2023/01/02/673eaf93d0546.png)
