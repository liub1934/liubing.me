import{e as V,bp as W,bq as X,br as Z,bs as ee,bt as te,a_ as ae,h as e,bu as le,bv as L,bw as re,bx as oe,by as se,bz as ie,x as j,w as A,bA as ne,bB as ce,bC as $,bD as z,bE as ue,bF as me,bn as ve,bG as he,bH as ge,bI as de,bJ as pe,bK as ye,bL as Ee,bM as B,D as be,bN as M}from"./app-kBHCaxRY.js";const fe=["/","/about/site.html","/friends/","/heatmap/","/notes/","/nav/","/nav/comment.html","/nav/community.html","/nav/design.html","/nav/free-cdn.html","/nav/mac-download.html","/nav/recommend.html","/nav/team.html","/tools/","/tools/compress-image.html","/tools/css-triangle-generator.html","/tools/short-video-remove-watermark.html","/article/ai/","/article/ai/mac-deploy-roop.html","/article/ai/mac-deploy-stable-diffusion-web-ui.html","/article/amh/","/article/amh/amh-panel-install-docker.html","/article/amh/bt-panel-to-amh-panel.html","/article/angular/","/article/angular/study-angular.html","/article/echarts/","/article/echarts/echarts-rich-label-color-backgroundcolor.html","/article/baota/","/article/baota/bt-deploy-qinglong-panel.html","/article/baota/bt-deploy-waline.html","/article/baota/bt-docker-build-bitwarden.html","/article/baota/bt-update-lsky-pro-to-2x.html","/article/fn-os/","/article/fn-os/qnap-ts-453Bmini-install-fn-os.html","/article/git/configuring-multiple-git-accounts-in-mac.html","/article/git/git-config-width-directory.html","/article/i18n/","/article/i18n/gracefully-manage-i18n-using-csv-in-vue.html","/article/lottie/decorate-the-404-page-with-lottie-animation.html","/article/mac/mac-shortcut-keys.html","/article/mac/mac-wechat-open-use-your-default-browser-to-open-the-link.html","/article/other/","/article/other/chrome-multiple-versions.html","/article/other/markdown-syntax.html","/article/other/online-code-platform.html","/article/other/recommend-several-free-unlimited-cdns.html","/article/other/thanks-yxam-for-provide-vps.html","/article/other/troll-store-install.html","/article/other/ui-design-by-hoang-nguyen.html","/article/other/what-programmers-hate-most.html","/article/self-deploy/1panel-docker-deployment-mastodon.html","/article/self-deploy/1panel-docker-deployment-misskey.html","/article/self-deploy/","/article/self-deploy/local-deploy-linkwarden.html","/article/software/","/article/software/mac-cannot-be-opened-because-apple-cannot-check-if-it-contain-malware.html","/article/software/wx-backup-mac-backup-wechat-records.html","/article/typescript/","/article/uni-app/","/article/uni-app/uni-app-lb-picker.html","/article/uni-app/uni-app-use-vant-weapp.html","/article/uni-app/uni-app-wechat-verify-mpsdk.html","/article/unocss/unocss-vant-vw.html","/article/unocss/use-unocss.html","/article/v2ray/","/article/v2ray/v2ray-websocket-tl-nginx-cloudflare-bandwagonhost.html","/article/v2ray/v2ray-websocket-tl-nginx-cloudflare-x-ui.html","/article/vite/","/article/vite/vite-gets-packaging-custom-parameters.html","/article/vitepress/","/article/vitepress/vitepress-use-ant-design-vue-note.html","/article/vscode/","/article/vscode/vscode-close-source-control-incoming-outgoing.html","/article/vscode/vscode-generic-plugin-recommended-for-doxygen-documentation-generator.html","/article/vscode/vscode-generic-plugin-recommended-for-todo-tree.html","/article/vscode/vscode-vue-setting.html","/article/vuepress/","/article/vuepress/vuepress2-add-eslint-typescript-config.html","/article/vue/","/article/vue/fix-vite-import-variables-file-already-being-loaded-error.html","/article/vue/font-splitter-with-unicode-range.html","/article/vue/jenkins-vue-build-error-code-elifecycle.html","/article/vue/jenkins-vue-svn-auto-build.html","/article/vue/map-openlayers-stretch.html","/article/vue/oversized-text-displays-ellipses-and-tooltip.html","/article/vue/search-string-not-found-supported-ts-extensions.html","/article/vue/study-pinia.html","/article/vue/template-reuse-in-vue-3-component.html","/article/vue/use-eslint-plugin-vue.html","/article/vue/vue-3-4.html","/article/vue/vue-3-elegant-component-re-encapsulation.html","/article/vue/vue-3-vite-build-analyzer-foamtree.html","/article/vue/vue-auto-regist-global-component-and-plugin.html","/article/vue/vue-gaode-map-questions.html","/article/vue/vue-i18n-te-return-false-not-work.html","/article/vue/vue-tinymce-5.html","/article/vue/vue-v-slot.html","/article/vue/vue-widthout-login-redirect-tologin.html","/article/vue/vue3-defineModel.html","/article/vue/vue3-h5-scan-qr-code.html","/article/vue/vue3-load-maps-async.html","/article/vue/vue3-use-fake-progress.html","/article/vue/vuepress-automatically-deploys-to-own-servers-with-buddy.html","/article/vue/wonderful-uses-of-vueuse-create-reusable-template.html","/notes/css/","/notes/css/general.html","/notes/git/","/notes/git/command.html","/notes/git/config.html","/notes/html/","/notes/js/","/notes/js/date.html","/notes/js/debounce-throttle.html","/notes/js/dom.html","/notes/js/is.html","/notes/js/tree.html","/notes/js/utils.html","/notes/linux/","/notes/linux/command.html","/notes/prettier/","/notes/prettier/config.html","/notes/ts/","/notes/ts/string-types.html","/notes/ts/utility-types.html","/notes/vite/","/notes/vite/config.html","/notes/vue/","/notes/vue/config.html","/nav/browser/","/nav/browser/browser.html","/nav/browser/plugin.html","/nav/browser/store.html","/nav/ai/","/nav/ai/audio.html","/nav/ai/chat.html","/nav/ai/hot.html","/nav/ai/image.html","/nav/ai/office.html","/nav/ai/programming.html","/nav/ai/prompt.html","/nav/ai/sd-model.html","/nav/ai/sd-plugin.html","/nav/ai/text.html","/nav/ai/video.html","/nav/cms/","/nav/cms/headless-cms.html","/nav/frontend/","/nav/frontend/admin.html","/nav/frontend/blog.html","/nav/frontend/build-tool.html","/nav/frontend/chart.html","/nav/frontend/cn-doc.html","/nav/frontend/cross-end.html","/nav/frontend/css-tool.html","/nav/frontend/icon.html","/nav/frontend/micro-app.html","/nav/frontend/mobile-ui.html","/nav/frontend/nodejs-framework.html","/nav/frontend/online-coding.html","/nav/frontend/package-manager.html","/nav/frontend/static-website.html","/nav/frontend/tools.html","/nav/frontend/ui.html","/nav/general-library/","/nav/general-library/animation.html","/nav/general-library/date-picker.html","/nav/general-library/date.html","/nav/general-library/mock.html","/nav/general-library/tooltip.html","/nav/general-library/validator.html","/nav/general-library/virtual.html","/nav/software/","/nav/software/backup-restore.html","/nav/software/compression.html","/nav/software/design.html","/nav/software/document.html","/nav/software/download.html","/nav/software/editor.html","/nav/software/game.html","/nav/software/manage.html","/nav/software/media.html","/nav/software/network.html","/nav/software/optimize.html","/nav/software/patch.html","/nav/software/pe.html","/nav/software/programming.html","/nav/software/security.html","/nav/software/simulator.html","/nav/software/system.html","/nav/software/translate.html","/nav/toolbox/","/nav/toolbox/common.html","/nav/toolbox/github.html","/nav/toolbox/image.html","/nav/toolbox/map.html","/nav/troll-store/","/nav/troll-store/chat.html","/nav/troll-store/music.html","/nav/troll-store/novel.html","/nav/troll-store/other.html","/nav/troll-store/recreation.html","/nav/troll-store/system.html","/nav/troll-store/video.html","/article/vue/ant-design-vue/","/article/vue/ant-design-vue/ant-design-vue-change-theme.html","/article/vue/element-ui/","/article/vue/element-ui/element-ui-datepicker-range-selection-disabled.html","/article/vue/element-ui/fix-element-ui-dialog-close-bug.html","/article/vue/element-ui/lb-element-table.html","/article/vue/naive-ui/","/article/vue/naive-ui/naive-ui-custom-theme.html","/article/vue/nuxt/","/article/vue/nuxt/nuxt-excludes-components-directories-in-pages.html","/article/vue/nuxt/nuxt-naive-ui-refresh-style-lag.html","/article/vue/vant/","/article/vue/vant/security-vulnerabilities-in-vant.html","/404.html","/about/","/category/","/category/ai/","/category/mac/","/category/roop/","/category/ai%E7%BB%98%E7%94%BB/","/category/amh%E9%9D%A2%E6%9D%BF/","/category/angular/","/category/echarts/","/category/%E5%AE%9D%E5%A1%94%E9%9D%A2%E6%9D%BF/","/category/%E9%9D%92%E9%BE%99%E9%9D%A2%E6%9D%BF/","/category/%E8%87%AA%E9%83%A8%E7%BD%B2/","/category/waline/","/category/docker/","/category/lsky-pro/","/category/%E9%A3%9E%E7%89%9Bos/","/category/git/","/category/vue/","/category/i18n/","/category/lottie/","/category/%E5%85%B6%E4%BB%96/","/category/markdown/","/category/%E5%9C%A8%E7%BA%BF%E7%BC%96%E8%BE%91%E5%99%A8/","/category/cdn/","/category/vps/","/category/trollstore/","/category/mastodon/","/category/misskey/","/category/linkwarden/","/category/%E8%BD%AF%E4%BB%B6%E5%88%86%E4%BA%AB/","/category/uni-app/","/category/vant/","/category/unocss/","/category/v2ray/","/category/vite/","/category/vitepress/","/category/vscode/","/category/vuepress/","/category/jenkins/","/category/web/","/category/openlayers/","/category/element-ui/","/category/ant-design-vue/","/category/vue3/","/category/buddy/","/category/naive-ui/","/category/nuxt/","/tag/","/tag/ai/","/tag/%E6%8D%A2%E8%84%B8/","/tag/stable-diffusion-webui/","/tag/amh%E9%9D%A2%E6%9D%BF/","/tag/docker/","/tag/portainer/","/tag/%E5%AE%9D%E5%A1%94%E9%9D%A2%E6%9D%BF/","/tag/echarts/","/tag/rich/","/tag/%E5%9B%BE%E8%A1%A8/","/tag/%E9%9D%92%E9%BE%99%E9%9D%A2%E6%9D%BF/","/tag/waline/","/tag/bitwarden/","/tag/lsky-pro/","/tag/%E5%9B%BE%E5%BA%8A/","/tag/%E9%A3%9E%E7%89%9B/","/tag/%E5%A8%81%E8%81%94%E9%80%9A/","/tag/git/","/tag/github/","/tag/gitlab/","/tag/gitee/","/tag/vue/","/tag/vite/","/tag/i18n/","/tag/vue-i18n/","/tag/lottie-web/","/tag/lottiefiles/","/tag/%E5%BF%AB%E6%8D%B7%E9%94%AE/","/tag/%E5%BE%AE%E4%BF%A1/","/tag/chrome/","/tag/markdown/","/tag/codesandbox/","/tag/jsfiddle/","/tag/codepen/","/tag/codepan/","/tag/plunker/","/tag/jsbin/","/tag/stackblitz/","/tag/liveweave/","/tag/jsrun/","/tag/webmaker/","/tag/jshare/","/tag/jsdelivr/","/tag/statically/","/tag/githack/","/tag/staticaly/","/tag/cdn/","/tag/yxvm/","/tag/trollstore/","/tag/ui/","/tag/mastodon/","/tag/1panel/","/tag/misskey/","/tag/linkwarden/","/tag/amh/","/tag/wx-backup/","/tag/%E5%BE%AE%E4%BF%A1%E5%A4%87%E4%BB%BD/","/tag/%E9%80%89%E6%8B%A9%E5%99%A8/","/tag/uni-app/","/tag/lb-picker/","/tag/vant/","/tag/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/","/tag/wechat/","/tag/%E4%BA%BA%E8%84%B8%E6%A0%B8%E8%BA%AB/","/tag/sdk/","/tag/%E7%A7%BB%E5%8A%A8%E7%AB%AF/","/tag/vw%E9%80%82%E9%85%8D/","/tag/css/","/tag/unocss/","/tag/v2ray/","/tag/websocket/","/tag/tls/","/tag/nginx/","/tag/cloudflare/","/tag/%E6%90%AC%E7%93%A6%E5%B7%A5/","/tag/bandwagonhost/","/tag/x-ui/","/tag/vitepress/","/tag/ant-design-vue/","/tag/vscode/","/tag/vscode%E6%8F%92%E4%BB%B6/","/tag/doxygen-documentation-generator/","/tag/todo-tree/","/tag/vuepress/","/tag/eslint/","/tag/scss/","/tag/font-splitter/","/tag/font/","/tag/jenkins/","/tag/svn/","/tag/%E8%87%AA%E5%8A%A8%E6%9E%84%E5%BB%BA/","/tag/%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/","/tag/%E8%87%AA%E5%8A%A8%E6%89%93%E5%8C%85/","/tag/%E5%9C%B0%E5%9B%BE/","/tag/%E9%AB%98%E5%BE%B7%E5%9C%B0%E5%9B%BE/","/tag/element-ui/","/tag/tooltip/","/tag/typescript/","/tag/pinia/","/tag/vuex/","/tag/vue3/","/tag/foamtree/","/tag/rollup-plugin-visualizer/","/tag/vite-bundle-analyzer/","/tag/webpack/","/tag/require.context/","/tag/tinymce/","/tag/%E5%AF%8C%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8/","/tag/tinymce-vue/","/tag/v-slot/","/tag/vue-router/","/tag/definemodel/","/tag/%E6%89%AB%E7%A0%81/","/tag/%E7%99%BE%E5%BA%A6%E5%9C%B0%E5%9B%BE/","/tag/fake-progress/","/tag/vueuse/","/tag/createreusabletemplate/","/tag/ant-vue/","/tag/%E4%B8%80%E9%94%AE%E6%8D%A2%E8%82%A4/","/tag/datepicker/","/tag/%E6%97%A5%E6%9C%9F%E9%80%89%E6%8B%A9/","/tag/dialog/","/tag/%E5%BC%B9%E7%AA%97/","/tag/table/","/tag/%E8%A1%A8%E6%A0%BC/","/tag/naive-ui/","/tag/nuxt/","/article/","/star/","/archives/"],we="SLIMSEARCH_QUERY_HISTORY",y=M(we,[]),Ae=()=>{const{queryHistoryCount:r}=B;return{enabled:r>0,queryHistories:y,addQueryHistory:n=>{y.value=Array.from(new Set([n,...y.value.slice(0,r-1)]))},removeQueryHistory:n=>{y.value=[...y.value.slice(0,n),...y.value.slice(n+1)]}}},q=r=>fe[r.id]+("anchor"in r?`#${r.anchor}`:""),Be="SLIMSEARCH_RESULT_HISTORY",{resultHistoryCount:I}=B,E=M(Be,[]),ke=()=>({enabled:I>0,resultHistories:E,addResultHistory:i=>{{const n={link:q(i),display:i.display};"header"in i&&(n.header=i.header),E.value=[n,...E.value.slice(0,I-1)]}},removeResultHistory:i=>{E.value=[...E.value.slice(0,i),...E.value.slice(i+1)]}}),xe=r=>{const{page:i,routeLocale:n}=ue(),k=me(),o=j(0),b=A(()=>o.value>0),m=ye([]);return ve(()=>{const{search:x,terminate:g}=he(),f=Ee(d=>{const{resultsFilter:D=l=>l,querySplitter:p,suggestionsFilter:Q,...s}=k.value;d?(o.value+=1,x(d,n.value,s).then(l=>D(l,d,n.value,i.value)).then(l=>{o.value-=1,m.value=l}).catch(l=>{console.warn(l),o.value-=1,o.value||(m.value=[])})):m.value=[]},B.searchDelay-B.suggestDelay,{maxWait:5e3});ge([r,n],([d])=>f(d.join(" "))),de(()=>{g()})}),{isSearching:b,results:m}};var Ce=V({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(r,{emit:i}){const n=W(),k=X(),o=Z(ee),{addQueryHistory:b,queryHistories:m,removeQueryHistory:x}=Ae(),{resultHistories:g,addResultHistory:f,removeResultHistory:d}=ke(),D=be(r,"queries"),{results:p,isSearching:Q}=xe(D),s=ie({isQuery:!0,index:0}),l=j(0),v=j(0),R=A(()=>m.value.length>0||g.value.length>0),C=A(()=>p.value.length>0),F=A(()=>p.value[l.value]||null),T=()=>{const{isQuery:t,index:a}=s;a===0?(s.isQuery=!t,s.index=t?g.value.length-1:m.value.length-1):s.index=a-1},_=()=>{const{isQuery:t,index:a}=s;a===(t?m.value.length-1:g.value.length-1)?(s.isQuery=!t,s.index=0):s.index=a+1},U=()=>{l.value=l.value>0?l.value-1:p.value.length-1,v.value=F.value.contents.length-1},O=()=>{l.value=l.value<p.value.length-1?l.value+1:0,v.value=0},P=()=>{v.value<F.value.contents.length-1?v.value+=1:O()},Y=()=>{v.value>0?v.value-=1:U()},H=t=>t.map(a=>pe(a)?a:e(a[0],a[1])),G=t=>{if(t.type==="customField"){const a=ne[t.index]||"$content",[h,c=""]=ce(a)?a[k.value].split("$content"):a.split("$content");return t.display.map(u=>e("div",H([h,...u,c])))}return t.display.map(a=>e("div",H(a)))},w=()=>{l.value=0,v.value=0,i("updateQuery",""),i("close")},J=()=>e("div",{class:"slimsearch-records"},e("div",{class:"slimsearch-record"},[e("div",{class:"slimsearch-record-title"},o.value.queryHistory),e("ul",{class:"slimsearch-record-contents",role:"listbox"},m.value.map((t,a)=>{const h=s.isQuery&&s.index===a;return e("li",{class:["slimsearch-record-matches",{active:h}],role:"option","aria-selected":h,onClick:()=>{i("updateQuery",t)}},e("div",[e($,{class:"slimsearch-record-type"}),e("div",{class:"slimsearch-record-content"},t),e("button",{type:"button",class:"slimsearch-remove-icon",title:o.value.remove,"aria-label":o.value.remove,innerHTML:z,onClick:c=>{c.preventDefault(),c.stopPropagation(),x(a)}})]))}))])),K=()=>e("ul",{class:"slimsearch-records"},e("li",{class:"slimsearch-record"},[e("div",{class:"slimsearch-record-title"},o.value.resultHistory),e("ul",{class:"slimsearch-record-contents",role:"listbox"},g.value.map((t,a)=>{const h=!s.isQuery&&s.index===a;return e("li",{class:["slimsearch-record-matches",{active:h}],role:"option","aria-selected":h},e(L,{to:t.link,onClick:()=>{w()}},()=>[e($,{class:"slimsearch-record-type"}),e("div",{class:"slimsearch-record-content"},[t.header?e("div",{class:"slimsearch-record-content-header"},t.header):null,e("div",t.display.map(c=>H(c)).flat())]),e("button",{type:"button",class:"slimsearch-remove-icon",title:o.value.remove,"aria-label":o.value.remove,innerHTML:z,onClick:c=>{c.preventDefault(),c.stopPropagation(),d(a)}})]))}))]));return te("keydown",t=>{if(r.isFocusing){if(C.value){if(t.key==="ArrowUp")Y();else if(t.key==="ArrowDown")P();else if(t.key==="Enter"){const a=F.value.contents[v.value];b(r.queries.join(" ")),f(a),n.push(q(a)),w()}}else if(t.key==="ArrowUp")T();else if(t.key==="ArrowDown")_();else if(t.key==="Enter"){const{index:a}=s;s.isQuery?(t.preventDefault(),i("updateQuery",m.value[a])):(n.push(g.value[a].link),w())}}}),ae([l,v],()=>{document.querySelector(".slimsearch-record.active .slimsearch-record-matches.active")?.scrollIntoView(!1)},{flush:"post"}),()=>e("div",{id:"slimsearch-results",class:["slimsearch-result-wrapper",{empty:r.queries.length?!C.value:!R.value}]},r.queries.length?Q.value?e(le,{hint:o.value.searching}):C.value?e("div",{class:"slimsearch-records",role:"listbox","aria-labeledby":"slimsearch-label"},p.value.map(({title:t,contents:a},h)=>{const c=l.value===h;return e("div",{class:["slimsearch-record",{active:c}],role:"group","aria-selected":c},[e("div",{class:"slimsearch-record-title"},t||o.value.defaultTitle),e("ul",{class:"slimsearch-record-contents"},a.map((u,N)=>{const S=c&&v.value===N;return e("li",{class:["slimsearch-record-matches",{active:S}],role:"option","aria-selected":S},e(L,{to:q(u),onClick:()=>{b(r.queries.join(" ")),f(u),w()}},()=>[u.type==="text"?null:e(u.type==="title"?re:u.type==="heading"?oe:se,{class:"slimsearch-record-type"}),e("div",{class:"slimsearch-record-content"},[u.type==="text"&&u.header?e("div",{class:"slimsearch-record-content-header"},u.header):null,e("div",G(u))])]))}))])})):o.value.emptyResult:R.value?[J(),K()]:o.value.emptyHistory)}});export{Ce as default};
