import{_ as s,c as l,a as e,b as a,a9 as n,d as r,a8 as p,r as d,o as g}from"./app-DyfPPSu6.js";const o={};function h(c,i){const t=d("RouteLink");return g(),l("div",null,[i[2]||(i[2]=e('<h1 id="本地部署一个开源的书签管理器-linkwarden" tabindex="-1"><a class="header-anchor" href="#本地部署一个开源的书签管理器-linkwarden"><span>本地部署一个开源的书签管理器 Linkwarden</span></a></h1><p>为什么要自己搭建一个书签管理器，浏览器的书签管理不够用吗？之前收藏过不少的文章教程等内容，但由于不可变因素导致原网页停止服务或者文章内容被删除等等情况，导致后来我想查看的时候就很尴尬。虽然国内有成熟的产品，但是免费版本功能都有数量等限制，Google搜索了下相关的开源书签管理工具，最重要的一个要求就是可以存档当时的页面，以防页面挂掉的时候依旧可以查看。最终找到了符合要求的 <a href="https://linkwarden.app/" target="_blank" rel="noopener noreferrer">Linkwarden</a>。</p><figure><img src="https://image.liubing.me/i/2024/03/10/65ed8240abbba.png" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure><h2 id="本地部署" tabindex="-1"><a class="header-anchor" href="#本地部署"><span>本地部署</span></a></h2><p>这里我们可以参考官方提供的<a href="https://docs.linkwarden.app/self-hosting/installation" target="_blank" rel="noopener noreferrer">Installation</a>文档进行安装，由于服务器装不了高版本的Node，这里使用官网推荐的Docker部署的方式，当然你可以选择动手能力比较强的Node方式手动运行。</p>',5)),a("blockquote",null,[a("p",null,[i[1]||(i[1]=n("服务器面板使用的是AMH，以下都以AMH为例，宝塔面板类似，AMH面板需要提前安装Docker，相关教程参考")),r(t,{to:"/article/amh/amh-panel-install-docker.html"},{default:p(()=>i[0]||(i[0]=[n("AMH 面板安装及管理 Docker 应用")])),_:1})])]),i[3]||(i[3]=e(`<h3 id="新建站点" tabindex="-1"><a class="header-anchor" href="#新建站点"><span>新建站点</span></a></h3><p>在<code>LNGX虚拟主机</code>环境中先新建一个用于反向代理的站点，并提前配置好SSL。</p><figure><img src="https://image.liubing.me/i/2024/03/10/65ed84278ee91.png" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure><h3 id="拉取代码" tabindex="-1"><a class="header-anchor" href="#拉取代码"><span>拉取代码</span></a></h3><p>登录VPS服务器拉取主代码，并手动添加一个环境变量<code>.env</code>文件。</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /home/wwwroot/my_lngx/domain/xx.liubing.me/web/</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> clone</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://github.com/linkwarden/linkwarden.git</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> linkwarden</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">touch</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .env</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="环境变量配置" tabindex="-1"><a class="header-anchor" href="#环境变量配置"><span>环境变量配置</span></a></h3><p>可以使用AMH提供的文件管理快捷编辑，XXX替换成自己随机生成的密钥和密码，更多支持的环境变量参考 <a href="https://docs.linkwarden.app/self-hosting/environment-variables" target="_blank" rel="noopener noreferrer">Environment Variables</a>。</p><div class="language-env line-numbers-mode" data-highlighter="shiki" data-ext="env" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">NEXTAUTH_SECRET</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">XXX</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">POSTGRES_PASSWORD</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">XXX</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">NEXTAUTH_URL</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">http://127.0.0.1:3000/api/v1/auth</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 用于禁止注册控制，默认先填false，部署完成注册账号后再修改成true禁止注册</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">NEXT_PUBLIC_DISABLE_REGISTRATION</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">true</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://image.liubing.me/i/2024/03/10/65ed869246c84.png" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure><h3 id="启动服务" tabindex="-1"><a class="header-anchor" href="#启动服务"><span>启动服务</span></a></h3><p>最后在环境变量所在的目录即 <code>linkwarden</code> 下面运行下面的命令启动服务。</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> compose</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> up</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>启动完成后可以在Portainer容器列表中看到已经运行的2个<code>linkwarden</code>服务，一个是linkwarden主服务，是另一个<code>PostgreSQL</code>数据服务。</p><figure><img src="https://image.liubing.me/i/2024/03/10/65ed88a47caad.png" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure><h3 id="访问注册" tabindex="-1"><a class="header-anchor" href="#访问注册"><span>访问注册</span></a></h3><p>最后就可以打开上面配置的站点进行访问了，如果环境变量配置的<code>NEXT_PUBLIC_DISABLE_REGISTRATION=false</code>的话在<code>Login</code>按钮下面会有个<code>Sign Up</code>注册的链接。</p><figure><img src="https://image.liubing.me/i/2024/03/10/65ed89a7c113b.png" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure><h2 id="功能预览" tabindex="-1"><a class="header-anchor" href="#功能预览"><span>功能预览</span></a></h2><h3 id="仪表板" tabindex="-1"><a class="header-anchor" href="#仪表板"><span>仪表板</span></a></h3><figure><img src="https://image.liubing.me/i/2024/03/10/65ed8a583d35e.png" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure><h3 id="分类目录" tabindex="-1"><a class="header-anchor" href="#分类目录"><span>分类目录</span></a></h3><p>支持创建目录及子目录。</p><figure><img src="https://image.liubing.me/i/2024/03/10/65ed8a9409539.png" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure><p>点击3个小点选择<code>Preserved Formats</code>，还可以额外支持截图、PDF、阅读模式进行访问，在源页面失效的情况下依旧可以访问内容。</p><blockquote><p>生成的PDF浏览的时候页面链接也是支持点击访问的，这一点很赞👍</p></blockquote><figure><img src="https://image.liubing.me/i/2024/03/10/65ed8acda7488.png" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure><figure><img src="https://image.liubing.me/i/2024/03/10/65ed8b0e297e2.png" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure><h2 id="扩展安装" tabindex="-1"><a class="header-anchor" href="#扩展安装"><span>扩展安装</span></a></h2><p>官方也提供了<a href="https://docs.linkwarden.app/getting-started/browser-extension" target="_blank" rel="noopener noreferrer">浏览器扩展</a>方便再页面上直接添加。</p><ul><li><p><a href="https://chrome.google.com/webstore/detail/linkwarden/pnidmkljnhbjfffciajlcpeldoljnidn" target="_blank" rel="noopener noreferrer">Chrome</a></p></li><li><p><a href="https://addons.mozilla.org/en-US/firefox/addon/linkwarden" target="_blank" rel="noopener noreferrer">Firefox</a></p></li></ul><p>扩展设置也很简单，首次安装使用后会有设置，输入服务的访问地址，用户名和密码即可。</p><figure><img src="https://image.liubing.me/i/2024/03/10/65ed8c3298de1.png" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure><p>使用的时候直接点击扩展的图标进行快速添加。</p><figure><img src="https://image.liubing.me/i/2024/03/10/65ed8cb12579c.png" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure>`,35))])}const k=s(o,[["render",h]]),b=JSON.parse('{"path":"/article/self-deploy/local-deploy-linkwarden.html","title":"本地部署一个开源的书签管理器 Linkwarden","lang":"zh-CN","frontmatter":{"date":"2024-03-11T00:00:00.000Z","category":["自部署","Linkwarden"],"tag":["Linkwarden","Docker","AMH"],"layout":"ArticleLayout","containerClass":"article-container","description":"本地部署一个开源的书签管理器 Linkwarden 为什么要自己搭建一个书签管理器，浏览器的书签管理不够用吗？之前收藏过不少的文章教程等内容，但由于不可变因素导致原网页停止服务或者文章内容被删除等等情况，导致后来我想查看的时候就很尴尬。虽然国内有成熟的产品，但是免费版本功能都有数量等限制，Google搜索了下相关的开源书签管理工具，最重要的一个要求就是...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"本地部署一个开源的书签管理器 Linkwarden\\",\\"image\\":[\\"https://image.liubing.me/i/2024/03/10/65ed8240abbba.png\\",\\"https://image.liubing.me/i/2024/03/10/65ed84278ee91.png\\",\\"https://image.liubing.me/i/2024/03/10/65ed869246c84.png\\",\\"https://image.liubing.me/i/2024/03/10/65ed88a47caad.png\\",\\"https://image.liubing.me/i/2024/03/10/65ed89a7c113b.png\\",\\"https://image.liubing.me/i/2024/03/10/65ed8a583d35e.png\\",\\"https://image.liubing.me/i/2024/03/10/65ed8a9409539.png\\",\\"https://image.liubing.me/i/2024/03/10/65ed8acda7488.png\\",\\"https://image.liubing.me/i/2024/03/10/65ed8b0e297e2.png\\",\\"https://image.liubing.me/i/2024/03/10/65ed8c3298de1.png\\",\\"https://image.liubing.me/i/2024/03/10/65ed8cb12579c.png\\"],\\"datePublished\\":\\"2024-03-11T00:00:00.000Z\\",\\"dateModified\\":\\"2024-03-12T11:13:21.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Bing🐣\\"}]}"],["meta",{"property":"og:url","content":"https://liubing.me/article/self-deploy/local-deploy-linkwarden.html"}],["meta",{"property":"og:site_name","content":"Bing🐣"}],["meta",{"property":"og:title","content":"本地部署一个开源的书签管理器 Linkwarden"}],["meta",{"property":"og:description","content":"本地部署一个开源的书签管理器 Linkwarden 为什么要自己搭建一个书签管理器，浏览器的书签管理不够用吗？之前收藏过不少的文章教程等内容，但由于不可变因素导致原网页停止服务或者文章内容被删除等等情况，导致后来我想查看的时候就很尴尬。虽然国内有成熟的产品，但是免费版本功能都有数量等限制，Google搜索了下相关的开源书签管理工具，最重要的一个要求就是..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://image.liubing.me/i/2024/03/10/65ed8240abbba.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-03-12T11:13:21.000Z"}],["meta",{"property":"article:tag","content":"AMH"}],["meta",{"property":"article:tag","content":"Docker"}],["meta",{"property":"article:tag","content":"Linkwarden"}],["meta",{"property":"article:published_time","content":"2024-03-11T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-03-12T11:13:21.000Z"}]]},"git":{"createdTime":1710067145000,"updatedTime":1710242001000,"contributors":[{"name":"liub1934","username":"liub1934","email":"liub1934@gmail.com","commits":3,"url":"https://github.com/liub1934"}]},"readingTime":{"minutes":2.86,"words":858},"filePathRelative":"article/self-deploy/local-deploy-linkwarden.md","excerpt":"\\n<p>为什么要自己搭建一个书签管理器，浏览器的书签管理不够用吗？之前收藏过不少的文章教程等内容，但由于不可变因素导致原网页停止服务或者文章内容被删除等等情况，导致后来我想查看的时候就很尴尬。虽然国内有成熟的产品，但是免费版本功能都有数量等限制，Google搜索了下相关的开源书签管理工具，最重要的一个要求就是可以存档当时的页面，以防页面挂掉的时候依旧可以查看。最终找到了符合要求的 <a href=\\"https://linkwarden.app/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">Linkwarden</a>。</p>\\n<figure><img src=\\"https://image.liubing.me/i/2024/03/10/65ed8240abbba.png\\" alt=\\"image\\" tabindex=\\"0\\" loading=\\"lazy\\"><figcaption>image</figcaption></figure>","autoDesc":true}');export{k as comp,b as data};
